{"ast":null,"code":"var _jsxFileName = \"/home/ec2-user/environment/myapp/src/App.js\";\nimport React, { useEffect, useReducer } from 'react';\nimport API, { graphqlOperation } from '@aws-amplify/api';\nimport PubSub from '@aws-amplify/pubsub';\nimport TextLoop from \"react-text-loop\";\nimport cxs from \"cxs/component\";\nimport { createTodo } from './graphql/mutations';\nimport { listTodos } from './graphql/queries';\nimport { onCreateTodo } from './graphql/subscriptions';\nimport AWS_logo from \"images\";\nimport awsconfig from './aws-exports';\nimport './App.css';\nAPI.configure(awsconfig);\nPubSub.configure(awsconfig); // Action Types\n\nconst QUERY = 'QUERY';\nconst SUBSCRIPTION = 'SUBSCRIPTION';\nconst initialState = {\n  todos: []\n};\nconst StyledTextLoop = cxs(TextLoop)({\n  display: \"block\"\n});\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case QUERY:\n      return { ...state,\n        todos: action.todos\n      };\n\n    case SUBSCRIPTION:\n      return { ...state,\n        todos: [...state.todos, action.todo]\n      };\n\n    default:\n      return state;\n  }\n};\n\nasync function createNewTodo() {\n  const todo = {\n    name: \"Use AWS AppSync\",\n    description: \"RealTime and Offline\"\n  };\n  await API.graphql(graphqlOperation(createTodo, {\n    input: todo\n  }));\n}\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  useEffect(() => {\n    async function getData() {\n      const todoData = await API.graphql(graphqlOperation(listTodos));\n      dispatch({\n        type: QUERY,\n        todos: todoData.data.listTodos.items\n      });\n    }\n\n    getData();\n    const subscription = API.graphql(graphqlOperation(onCreateTodo)).subscribe({\n      next: eventData => {\n        const todo = eventData.value.data.onCreateTodo;\n        dispatch({\n          type: SUBSCRIPTION,\n          todo\n        });\n      }\n    });\n    return () => subscription.unsubscribe();\n  }, []);\n  return React.createElement(\"div\", {\n    className: \"App\",\n    style: {\n      height: \"100vh\",\n      textalign: \"center\",\n      justifycontent: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \". \"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \". \"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, \". \"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \". \"), React.createElement(\"img\", {\n    src: AWS_logo,\n    alt: \"Logo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }), \";\", React.createElement(\"div\", {\n    className: \"Message\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(TextLoop, {\n    children: [\"How can I help\", \"\t¿Cómo puedo ayudarte\", \"我该如何帮助\"],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }), \"?\"));\n}\n\nexport default App;","map":{"version":3,"sources":["/home/ec2-user/environment/myapp/src/App.js"],"names":["React","useEffect","useReducer","API","graphqlOperation","PubSub","TextLoop","cxs","createTodo","listTodos","onCreateTodo","AWS_logo","awsconfig","configure","QUERY","SUBSCRIPTION","initialState","todos","StyledTextLoop","display","reducer","state","action","type","todo","createNewTodo","name","description","graphql","input","App","dispatch","getData","todoData","data","items","subscription","subscribe","next","eventData","value","unsubscribe","height","textalign","justifycontent"],"mappings":"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","sourcesContent":["import React, { useEffect, useReducer } from 'react';\n\nimport API, { graphqlOperation } from '@aws-amplify/api';\nimport PubSub from '@aws-amplify/pubsub';\n\nimport TextLoop from \"react-text-loop\";\nimport cxs from \"cxs/component\";\n\nimport { createTodo } from './graphql/mutations';\nimport { listTodos } from './graphql/queries';\nimport { onCreateTodo } from './graphql/subscriptions';\n\nimport AWS_logo from \"images\"\n\nimport awsconfig from './aws-exports';\nimport './App.css';\n\nAPI.configure(awsconfig);\nPubSub.configure(awsconfig);\n\n// Action Types\nconst QUERY = 'QUERY';\nconst SUBSCRIPTION = 'SUBSCRIPTION';\n\nconst initialState = {\n  todos: [],\n};\n\nconst StyledTextLoop = cxs(TextLoop)({\n  display: \"block\"\n});\n\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case QUERY:\n      return {...state, todos: action.todos};\n    case SUBSCRIPTION:\n      return {...state, todos:[...state.todos, action.todo]}\n    default:\n      return state;\n  }\n};\n\nasync function createNewTodo() {\n  const todo = { name: \"Use AWS AppSync\", description: \"RealTime and Offline\" };\n  await API.graphql(graphqlOperation(createTodo, { input: todo }));\n}\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  useEffect(() => {\n    async function getData() {\n      const todoData = await API.graphql(graphqlOperation(listTodos));\n      dispatch({ type: QUERY, todos: todoData.data.listTodos.items });\n    }\n    getData();\n\n    const subscription = API.graphql(graphqlOperation(onCreateTodo)).subscribe({\n      next: (eventData) => {\n        const todo = eventData.value.data.onCreateTodo;\n        dispatch({ type: SUBSCRIPTION, todo });\n      }\n    });\n\n    return () => subscription.unsubscribe();\n  }, []);\n\n  return (\n    \n    <div className=\"App\"style = {{height:\"100vh\", textalign:\"center\", justifycontent:\"center\"}} >\n      {/*<button onClick={createNewTodo}>Add Todo</button>*/}\n      <p>. </p>\n      <p>. </p>\n      <p>. </p>\n      <p>. </p>\n      <img src={AWS_logo} alt=\"Logo\" />;\n      <div className=\"Message\">\n      <TextLoop children={[\"How can I help\", \"\t¿Cómo puedo ayudarte\", \"我该如何帮助\"]} />?\n       </div>\n    </div>\n  );\n}\n\nexport default App;\n\n\n"]},"metadata":{},"sourceType":"module"}