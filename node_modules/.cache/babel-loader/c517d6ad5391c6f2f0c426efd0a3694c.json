{"ast":null,"code":"var _jsxFileName = \"/home/ec2-user/environment/myapp/src/App.js\";\nimport React, { useEffect, useReducer } from 'react';\nimport API, { graphqlOperation } from '@aws-amplify/api';\nimport Amplify, { PubSub } from 'aws-amplify';\nimport { AWSIoTProvider } from '@aws-amplify/pubsub/lib/Providers';\nimport TextLoop from \"react-text-loop\";\nimport cxs from \"cxs/component\";\nimport AWS_logo from \"./images/AWS_logo_RGB_WHT.png\";\nimport awsconfig from './aws-exports';\nimport './App.css'; // IoT subscription\n\nAmplify.configure({\n  Auth: {\n    identityPoolId: process.env.REACT_APP_IDENTITY_POOL_ID,\n    region: process.env.REACT_APP_REGION,\n    userPoolId: process.env.REACT_APP_USER_POOL_ID,\n    userPoolWebClientId: process.env.REACT_APP_USER_POOL_WEB_CLIENT_ID\n  }\n});\nAmplify.addPluggable(new AWSIoTProvider({\n  aws_pubsub_region: process.env.REACT_APP_REGION,\n  aws_pubsub_endpoint: `wss://${process.env.REACT_APP_MQTT_ID}.iot.${process.env.REACT_APP_REGION}.amazonaws.com/mqtt`\n}));\nconst StyledTextLoop = cxs(TextLoop)({\n  display: \"block\"\n});\n\nclass Greeting extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      hour: null,\n      username: 'Alyssa'\n    };\n\n    this.getHour = () => {\n      const date = new Date();\n      const hour = date.getHours();\n      this.setState({\n        hour\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.getHour();\n  }\n\n  render() {\n    const {\n      hour,\n      username\n    } = this.state;\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, hour < 12 ? `Good Morning ${username}` : `Good evening ${username}`));\n  }\n\n}\n\nclass LCD extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      datalcd: null\n    };\n\n    this.getSub = () => {\n      const datalcd = Amplify.PubSub.subscribe('lcd-message').subscribe({\n        next: data => {\n          this.setState({\n            datalcd\n          });\n          var answer = JSON.stringify(data);\n          var objectValue = JSON.parse(answer);\n          console.log('tip: ', objectValue['value.message']);\n        },\n        error: error => console.error(error),\n        close: () => console.log('Done')\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.getSub();\n  }\n\n  render() {\n    const {\n      datalcd\n    } = this.state;\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, `Good Morning ${datalcd}`));\n  }\n\n}\n\nfunction App() {\n  return React.createElement(\"div\", {\n    className: \"App\",\n    style: {\n      height: \"100vh\",\n      justifyContent: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"Message\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(TextLoop, {\n    interval: \"4000\",\n    fade: \"true\",\n    children: [\"How can I help?\", \"\t¿Cómo puedo ayudarte?\", React.createElement(\"img\", {\n      src: AWS_logo,\n      alt: \"Logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    })],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  })), this.data);\n}\n\nexport default LCD;","map":{"version":3,"sources":["/home/ec2-user/environment/myapp/src/App.js"],"names":["React","useEffect","useReducer","API","graphqlOperation","Amplify","PubSub","AWSIoTProvider","TextLoop","cxs","AWS_logo","awsconfig","configure","Auth","identityPoolId","process","env","REACT_APP_IDENTITY_POOL_ID","region","REACT_APP_REGION","userPoolId","REACT_APP_USER_POOL_ID","userPoolWebClientId","REACT_APP_USER_POOL_WEB_CLIENT_ID","addPluggable","aws_pubsub_region","aws_pubsub_endpoint","REACT_APP_MQTT_ID","StyledTextLoop","display","Greeting","Component","state","hour","username","getHour","date","Date","getHours","setState","componentDidMount","render","LCD","datalcd","getSub","subscribe","next","data","answer","JSON","stringify","objectValue","parse","console","log","error","close","App","height","justifyContent"],"mappings":"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","sourcesContent":["import React, { useEffect, useReducer } from 'react';\n\nimport API, { graphqlOperation } from '@aws-amplify/api';\nimport Amplify, { PubSub } from 'aws-amplify';\nimport { AWSIoTProvider } from '@aws-amplify/pubsub/lib/Providers';\n\n\nimport TextLoop from \"react-text-loop\";\nimport cxs from \"cxs/component\";\n\n\nimport AWS_logo from \"./images/AWS_logo_RGB_WHT.png\"\n\nimport awsconfig from './aws-exports';\nimport './App.css';\n\n// IoT subscription\n\nAmplify.configure({\n  Auth: {\n    identityPoolId: process.env.REACT_APP_IDENTITY_POOL_ID,\n    region: process.env.REACT_APP_REGION,\n    userPoolId: process.env.REACT_APP_USER_POOL_ID,\n    userPoolWebClientId: process.env.REACT_APP_USER_POOL_WEB_CLIENT_ID\n  }\n});\n\nAmplify.addPluggable(new AWSIoTProvider({\n  aws_pubsub_region: process.env.REACT_APP_REGION,\n  aws_pubsub_endpoint: `wss://${process.env.REACT_APP_MQTT_ID}.iot.${process.env.REACT_APP_REGION}.amazonaws.com/mqtt`,\n}));\n\n\n\nconst StyledTextLoop = cxs(TextLoop)({\n  display: \"block\"\n});\n\n\nclass Greeting extends React.Component {\n  state = {\n    hour: null,\n    username: 'Alyssa',\n    \n  }\n  \n  componentDidMount() {\n    this.getHour()\n  }\n    getHour = () => {\n   const date = new Date();\n   const hour = date.getHours()\n   this.setState({\n      hour\n   });\n  }\n  render(){\n    const {hour, username} = this.state;\n    return (\n      <div className='App'>\n        <h2>{hour < 12 ? `Good Morning ${username}` : `Good evening ${username}`}</h2>\n      </div>\n    );\n  }\n}\n\nclass LCD extends React.Component {\n  state = {\n    datalcd: null\n  }\n  \n  componentDidMount() {\n    this.getSub()\n  }\n    getSub = () => {\n   const datalcd = Amplify.PubSub.subscribe('lcd-message').subscribe({\n  next: data => {\n    this.setState({datalcd});\n    var answer = JSON.stringify(data);\n    var objectValue = JSON.parse(answer);\n    console.log('tip: ', objectValue['value.message']);\n  },\n  error: error => console.error(error),\n  close: () => console.log('Done'),\n});\n  }\n  render(){\n    const {datalcd} = this.state;\n    return (\n      <div className='App'>\n        <h2>{`Good Morning ${datalcd}`}</h2>\n      </div>\n    );\n  }\n}\n\n\nfunction App() {\n\n  return (\n    <div className=\"App\"style = {{height:\"100vh\", justifyContent: 'center'}}>\n      {/*<button onClick={createNewTodo}>Add Todo</button>*/}\n\n      <div className=\"Message\">\n      <TextLoop interval='4000' fade='true' children={[\"How can I help?\", \"\t¿Cómo puedo ayudarte?\",<img src={AWS_logo} alt=\"Logo\" />]} />\n       </div>\n       {this.data}\n    </div>\n  );\n}\n\nexport default LCD;\n\n\n"]},"metadata":{},"sourceType":"module"}